<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Collection - Stack &amp; Queue 源码解析 | 个人主页</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/images/photo.jpg">
    <link rel="manifest" href="/images/photo.jpg">
    <link rel="apple-touch-icon" href="/images/photo.jpg">
    <meta name="description" content="Personal Website">
    <meta http-quiv="pragma" cotent="no-cache">
    <meta http-quiv="pragma" cotent="no-cache,must-revalidate">
    <meta http-quiv="expires" cotent="0">
    
    <link rel="preload" href="/assets/css/0.styles.cfd1e9a2.css" as="style"><link rel="preload" href="/assets/js/app.0d6df2e4.js" as="script"><link rel="preload" href="/assets/js/3.2c60df78.js" as="script"><link rel="preload" href="/assets/js/32.bfcba426.js" as="script"><link rel="prefetch" href="/assets/js/10.a675ef31.js"><link rel="prefetch" href="/assets/js/100.c1d0cb0f.js"><link rel="prefetch" href="/assets/js/101.c3caeaf7.js"><link rel="prefetch" href="/assets/js/102.c33f1aeb.js"><link rel="prefetch" href="/assets/js/103.eddf2e86.js"><link rel="prefetch" href="/assets/js/104.943ce33b.js"><link rel="prefetch" href="/assets/js/105.d04687f0.js"><link rel="prefetch" href="/assets/js/106.2dfd0540.js"><link rel="prefetch" href="/assets/js/107.d0139f1c.js"><link rel="prefetch" href="/assets/js/108.24c68d63.js"><link rel="prefetch" href="/assets/js/109.a88c2829.js"><link rel="prefetch" href="/assets/js/11.561f08ee.js"><link rel="prefetch" href="/assets/js/110.ec9d9c92.js"><link rel="prefetch" href="/assets/js/111.a37b7b9f.js"><link rel="prefetch" href="/assets/js/112.862950f9.js"><link rel="prefetch" href="/assets/js/113.bf489717.js"><link rel="prefetch" href="/assets/js/114.0569b17d.js"><link rel="prefetch" href="/assets/js/115.cf784dec.js"><link rel="prefetch" href="/assets/js/116.92c16b65.js"><link rel="prefetch" href="/assets/js/117.991782bd.js"><link rel="prefetch" href="/assets/js/12.e4c2aa4a.js"><link rel="prefetch" href="/assets/js/13.35f9ed5a.js"><link rel="prefetch" href="/assets/js/14.b7f6f87c.js"><link rel="prefetch" href="/assets/js/15.808b42c3.js"><link rel="prefetch" href="/assets/js/16.9a65883a.js"><link rel="prefetch" href="/assets/js/17.dbfc7bb2.js"><link rel="prefetch" href="/assets/js/18.c329e942.js"><link rel="prefetch" href="/assets/js/19.83deeff3.js"><link rel="prefetch" href="/assets/js/2.40aa7bb6.js"><link rel="prefetch" href="/assets/js/20.bdd777c1.js"><link rel="prefetch" href="/assets/js/21.b486bbf9.js"><link rel="prefetch" href="/assets/js/22.a25a903b.js"><link rel="prefetch" href="/assets/js/23.925ff4e0.js"><link rel="prefetch" href="/assets/js/24.ceff7a46.js"><link rel="prefetch" href="/assets/js/25.760d6451.js"><link rel="prefetch" href="/assets/js/26.66b0e693.js"><link rel="prefetch" href="/assets/js/27.79296467.js"><link rel="prefetch" href="/assets/js/28.6f5b92df.js"><link rel="prefetch" href="/assets/js/29.f2b1ce52.js"><link rel="prefetch" href="/assets/js/30.3bafedc7.js"><link rel="prefetch" href="/assets/js/31.b967adc4.js"><link rel="prefetch" href="/assets/js/33.c838af1a.js"><link rel="prefetch" href="/assets/js/34.6f70f963.js"><link rel="prefetch" href="/assets/js/35.40935f03.js"><link rel="prefetch" href="/assets/js/36.bcf1bbbf.js"><link rel="prefetch" href="/assets/js/37.48e1a430.js"><link rel="prefetch" href="/assets/js/38.82997478.js"><link rel="prefetch" href="/assets/js/39.77436fc0.js"><link rel="prefetch" href="/assets/js/4.7d10bedd.js"><link rel="prefetch" href="/assets/js/40.bc3182ae.js"><link rel="prefetch" href="/assets/js/41.71103288.js"><link rel="prefetch" href="/assets/js/42.7690245a.js"><link rel="prefetch" href="/assets/js/43.d2d3d553.js"><link rel="prefetch" href="/assets/js/44.3f350618.js"><link rel="prefetch" href="/assets/js/45.97083dfb.js"><link rel="prefetch" href="/assets/js/46.a41e95bb.js"><link rel="prefetch" href="/assets/js/47.8540ef07.js"><link rel="prefetch" href="/assets/js/48.54629455.js"><link rel="prefetch" href="/assets/js/49.5f90d180.js"><link rel="prefetch" href="/assets/js/5.b88ed74c.js"><link rel="prefetch" href="/assets/js/50.7fa4c3a4.js"><link rel="prefetch" href="/assets/js/51.6ebb146b.js"><link rel="prefetch" href="/assets/js/52.fe6e9396.js"><link rel="prefetch" href="/assets/js/53.fa23c041.js"><link rel="prefetch" href="/assets/js/54.90582436.js"><link rel="prefetch" href="/assets/js/55.b8844963.js"><link rel="prefetch" href="/assets/js/56.5fd08d82.js"><link rel="prefetch" href="/assets/js/57.d57125ff.js"><link rel="prefetch" href="/assets/js/58.0696d91e.js"><link rel="prefetch" href="/assets/js/59.cf936091.js"><link rel="prefetch" href="/assets/js/6.d4fec8b7.js"><link rel="prefetch" href="/assets/js/60.e0404bbf.js"><link rel="prefetch" href="/assets/js/61.fd7b24c0.js"><link rel="prefetch" href="/assets/js/62.bab35282.js"><link rel="prefetch" href="/assets/js/63.bc3aab78.js"><link rel="prefetch" href="/assets/js/64.5f1bfff1.js"><link rel="prefetch" href="/assets/js/65.c431a11a.js"><link rel="prefetch" href="/assets/js/66.e2d06bb1.js"><link rel="prefetch" href="/assets/js/67.32853338.js"><link rel="prefetch" href="/assets/js/68.342b04c0.js"><link rel="prefetch" href="/assets/js/69.a1ce55b6.js"><link rel="prefetch" href="/assets/js/7.3197ebba.js"><link rel="prefetch" href="/assets/js/70.496c0997.js"><link rel="prefetch" href="/assets/js/71.31b35f4d.js"><link rel="prefetch" href="/assets/js/72.62ea27e4.js"><link rel="prefetch" href="/assets/js/73.2c961c77.js"><link rel="prefetch" href="/assets/js/74.8dbb42b8.js"><link rel="prefetch" href="/assets/js/75.f80b5005.js"><link rel="prefetch" href="/assets/js/76.07020749.js"><link rel="prefetch" href="/assets/js/77.930e3bad.js"><link rel="prefetch" href="/assets/js/78.fc6f0094.js"><link rel="prefetch" href="/assets/js/79.c72fd757.js"><link rel="prefetch" href="/assets/js/8.6e794918.js"><link rel="prefetch" href="/assets/js/80.8c9694ec.js"><link rel="prefetch" href="/assets/js/81.383d5cfc.js"><link rel="prefetch" href="/assets/js/82.1253ca4a.js"><link rel="prefetch" href="/assets/js/83.f0ff7a4d.js"><link rel="prefetch" href="/assets/js/84.5910af60.js"><link rel="prefetch" href="/assets/js/85.a9330cf0.js"><link rel="prefetch" href="/assets/js/86.e4b0497e.js"><link rel="prefetch" href="/assets/js/87.664f4a10.js"><link rel="prefetch" href="/assets/js/88.69b05471.js"><link rel="prefetch" href="/assets/js/89.4f1a869b.js"><link rel="prefetch" href="/assets/js/9.94dfd66d.js"><link rel="prefetch" href="/assets/js/90.91a54f02.js"><link rel="prefetch" href="/assets/js/91.cfe61516.js"><link rel="prefetch" href="/assets/js/92.99f20c42.js"><link rel="prefetch" href="/assets/js/93.dea260f7.js"><link rel="prefetch" href="/assets/js/94.4d34f33a.js"><link rel="prefetch" href="/assets/js/95.1977d5c8.js"><link rel="prefetch" href="/assets/js/96.07bc7add.js"><link rel="prefetch" href="/assets/js/97.548d05ca.js"><link rel="prefetch" href="/assets/js/98.3e689473.js"><link rel="prefetch" href="/assets/js/99.3382c108.js">
    <link rel="stylesheet" href="/assets/css/0.styles.cfd1e9a2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">个人主页</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java面向对象和基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/basic/java-basic-oop.html" class="nav-link">
  Java基础-面向对象
</a></li><li class="dropdown-subitem"><a href="/md/java/basic/java-basic-lan-basic.html" class="nav-link">
  Java基础-知识点
</a></li><li class="dropdown-subitem"><a href="/md/java/basic/java-basic-lan-sum.html" class="nav-link">
  Java 基础 - 图谱 &amp; Q/A
</a></li></ul></li><li class="dropdown-item"><h4>
          Java集合框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/collection/java-collection-all.html" class="nav-link">
  Java 集合框架详解
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - 并发框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-overview.html" class="nav-link">
  Java 并发知识体系
</a></li><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-theorty.html" class="nav-link">
  Java 并发理论基础
</a></li><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-thread-basic.html" class="nav-link">
  Java 并发线程基础
</a></li><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-juc-overview.html" class="nav-link">
  J.U.C 知识体系与详解
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - IO框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/io/java-io-overview.html" class="nav-link">
  Java IO/NIO/AIO详解
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - 新版本特性
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/java8/java8.html" class="nav-link">
  Java 8 特性详解
</a></li><li class="dropdown-subitem"><a href="/md/java/java8up/java-8-up-overview.html" class="nav-link">
  Java 8 以上版本特性体系
</a></li><li class="dropdown-subitem"><a href="/md/java/java8up/java9-11.html" class="nav-link">
  Java 8 升Java 11特性必读
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - JVM相关
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-classload.html" class="nav-link">
  Java 类加载机制
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-class.html" class="nav-link">
  Java 字节码和增强技术
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-struct.html" class="nav-link">
  JVM 内存结构详解
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-gc.html" class="nav-link">
  JVM 垃圾回收机制
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-debug-tools-linux.html" class="nav-link">
  Java 调试排错相关
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          数据库相关介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/db/info/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-subitem"><a href="/md/db/info/oracle.html" class="nav-link">
  oracle
</a></li><li class="dropdown-subitem"><a href="/md/db/info/h2.html" class="nav-link">
  h2
</a></li></ul></li><li class="dropdown-item"><h4>
          框架介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/db/frame/mybatis/mybatis-base-overview.html" class="nav-link">
  mybatis
</a></li><li class="dropdown-subitem"><a href="/md/db/frame/mp/mp-base-overview.html" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-subitem"><a href="/md/db/frame/jpa/jpa-base-overview.html" class="nav-link">
  jpa
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/middleware/redis/redis-overview.html" class="nav-link">
  redis各大版本
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人记录" class="dropdown-title"><span class="title">个人记录</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人记录" class="mobile-dropdown-title"><span class="title">个人记录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          2024
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/owner/2024/229-1.html" class="nav-link">
  vuepress打包报unsupported
</a></li><li class="dropdown-subitem"><a href="/md/owner/2024/229-2.html" class="nav-link">
  待定
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/xianglong123/cas-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          Java面向对象和基础
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/basic/java-basic-oop.html" class="nav-link">
  Java基础-面向对象
</a></li><li class="dropdown-subitem"><a href="/md/java/basic/java-basic-lan-basic.html" class="nav-link">
  Java基础-知识点
</a></li><li class="dropdown-subitem"><a href="/md/java/basic/java-basic-lan-sum.html" class="nav-link">
  Java 基础 - 图谱 &amp; Q/A
</a></li></ul></li><li class="dropdown-item"><h4>
          Java集合框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/collection/java-collection-all.html" class="nav-link">
  Java 集合框架详解
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - 并发框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-overview.html" class="nav-link">
  Java 并发知识体系
</a></li><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-theorty.html" class="nav-link">
  Java 并发理论基础
</a></li><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-thread-basic.html" class="nav-link">
  Java 并发线程基础
</a></li><li class="dropdown-subitem"><a href="/md/java/thread/java-thread-x-juc-overview.html" class="nav-link">
  J.U.C 知识体系与详解
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - IO框架
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/io/java-io-overview.html" class="nav-link">
  Java IO/NIO/AIO详解
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - 新版本特性
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/java8/java8.html" class="nav-link">
  Java 8 特性详解
</a></li><li class="dropdown-subitem"><a href="/md/java/java8up/java-8-up-overview.html" class="nav-link">
  Java 8 以上版本特性体系
</a></li><li class="dropdown-subitem"><a href="/md/java/java8up/java9-11.html" class="nav-link">
  Java 8 升Java 11特性必读
</a></li></ul></li><li class="dropdown-item"><h4>
          Java进阶 - JVM相关
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-classload.html" class="nav-link">
  Java 类加载机制
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-class.html" class="nav-link">
  Java 字节码和增强技术
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-struct.html" class="nav-link">
  JVM 内存结构详解
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-gc.html" class="nav-link">
  JVM 垃圾回收机制
</a></li><li class="dropdown-subitem"><a href="/md/java/jvm/java-jvm-debug-tools-linux.html" class="nav-link">
  Java 调试排错相关
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          数据库相关介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/db/info/mysql.html" class="nav-link">
  mysql
</a></li><li class="dropdown-subitem"><a href="/md/db/info/oracle.html" class="nav-link">
  oracle
</a></li><li class="dropdown-subitem"><a href="/md/db/info/h2.html" class="nav-link">
  h2
</a></li></ul></li><li class="dropdown-item"><h4>
          框架介绍
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/db/frame/mybatis/mybatis-base-overview.html" class="nav-link">
  mybatis
</a></li><li class="dropdown-subitem"><a href="/md/db/frame/mp/mp-base-overview.html" class="nav-link">
  mybatis-plus
</a></li><li class="dropdown-subitem"><a href="/md/db/frame/jpa/jpa-base-overview.html" class="nav-link">
  jpa
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="中间件" class="dropdown-title"><span class="title">中间件</span> <span class="arrow down"></span></button> <button type="button" aria-label="中间件" class="mobile-dropdown-title"><span class="title">中间件</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          redis
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/middleware/redis/redis-overview.html" class="nav-link">
  redis各大版本
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="个人记录" class="dropdown-title"><span class="title">个人记录</span> <span class="arrow down"></span></button> <button type="button" aria-label="个人记录" class="mobile-dropdown-title"><span class="title">个人记录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>
          2024
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/md/owner/2024/229-1.html" class="nav-link">
  vuepress打包报unsupported
</a></li><li class="dropdown-subitem"><a href="/md/owner/2024/229-2.html" class="nav-link">
  待定
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/xianglong123/cas-blog" target="_blank" rel="noopener noreferrer" class="nav-link external">
  github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java 基础</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/java/basic/java-basic-oop.html" class="sidebar-link">Java 基础 - 面向对象</a></li><li><a href="/md/java/basic/java-basic-lan-basic.html" class="sidebar-link">Java 基础 - 知识点</a></li><li><a href="/md/java/basic/java-basic-lan-sum.html" class="sidebar-link">Java 基础 - 图谱 &amp; Q/A</a></li><li><a href="/md/java/basic/java-basic-x-generic.html" class="sidebar-link">Java 基础 - 泛型机制详解</a></li><li><a href="/md/java/basic/java-basic-x-exception.html" class="sidebar-link">Java 基础 - 异常机制详解</a></li><li><a href="/md/java/basic/java-basic-x-reflection.html" class="sidebar-link">Java 基础 - 反射机制详解</a></li><li><a href="/md/java/advanced/java-advanced-spi.html" class="sidebar-link">Java常用机制 - SPI机制详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Java 集合框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/java/collection/java-collection-all.html" class="sidebar-link">Collection 类关系图</a></li><li><a href="/md/java/collection/java-collection-ArrayList.html" class="sidebar-link">Collection - ArrayList 源码解析</a></li><li><a href="/md/java/collection/java-collection-LinkedList.html" class="sidebar-link">Collection - LinkedList源码解析</a></li><li><a href="/md/java/collection/java-collection-Queue&amp;Stack.html" aria-current="page" class="active sidebar-link">Collection - Stack &amp; Queue 源码解析</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/md/java/collection/java-collection-PriorityQueue.html" class="sidebar-link">Collection - PriorityQueue源码解析</a></li><li><a href="/md/java/collection/java-map-HashMap&amp;HashSet.html" class="sidebar-link">Map - HashSet &amp; HashMap 源码解析</a></li><li><a href="/md/java/collection/java-map-LinkedHashMap&amp;LinkedHashSet.html" class="sidebar-link">Map - LinkedHashSet&amp;Map源码解析</a></li><li><a href="/md/java/collection/java-map-TreeMap&amp;TreeSet.html" class="sidebar-link">Map - TreeSet &amp; TreeMap 源码解析</a></li><li><a href="/md/java/collection/java-map-WeakHashMap.html" class="sidebar-link">Map - WeakHashMap源码解析</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java 多线程与并发</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/java/thread/java-thread-x-overview.html" class="sidebar-link">♥Java并发知识体系详解♥</a></li><li><a href="/md/java/thread/java-thread-x-theorty.html" class="sidebar-link">Java 并发 - 理论基础</a></li><li><a href="/md/java/thread/java-thread-x-thread-basic.html" class="sidebar-link">Java 并发 - 线程基础</a></li><li><a href="/md/java/thread/java-thread-x-lock-all.html" class="sidebar-link">Java并发 - Java中所有的锁</a></li><li><a href="/md/java/thread/java-thread-x-key-synchronized.html" class="sidebar-link">关键字:synchronized详解</a></li><li><a href="/md/java/thread/java-thread-x-key-volatile.html" class="sidebar-link">关键字:volatile详解</a></li><li><a href="/md/java/thread/java-thread-x-key-final.html" class="sidebar-link">关键字:final详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-overview.html" class="sidebar-link">JUC - 类汇总和学习指南</a></li><li><a href="/md/java/thread/java-thread-x-juc-AtomicInteger.html" class="sidebar-link">JUC原子类CAS, Unsafe和原子类详解</a></li><li><a href="/md/java/thread/java-thread-x-lock-LockSupport.html" class="sidebar-link">JUC锁:LockSupport详解</a></li><li><a href="/md/java/thread/java-thread-x-lock-AbstractQueuedSynchronizer.html" class="sidebar-link">JUC锁:锁核心类AQS详解</a></li><li><a href="/md/java/thread/java-thread-x-lock-ReentrantLock.html" class="sidebar-link">JUC锁:ReentrantLock详解</a></li><li><a href="/md/java/thread/java-thread-x-lock-ReentrantReadWriteLock.html" class="sidebar-link">JUC锁:ReentrantReadWriteLock详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-collection-ConcurrentHashMap.html" class="sidebar-link">JUC集合:ConcurrentHashMap详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-collection-CopyOnWriteArrayList.html" class="sidebar-link">JUC集合:CopyOnWriteArrayList详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-collection-ConcurrentLinkedQueue.html" class="sidebar-link">JUC集合:ConcurrentLinkedQueue详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-collection-BlockingQueue.html" class="sidebar-link">JUC集合:BlockingQueue详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-executor-FutureTask.html" class="sidebar-link">JUC线程池:FutureTask详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-executor-ThreadPoolExecutor.html" class="sidebar-link">JUC线程池:ThreadPoolExecutor详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-executor-ScheduledThreadPoolExecutor.html" class="sidebar-link">JUC线程池:ScheduledThreadPoolExecutor详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-executor-ForkJoinPool.html" class="sidebar-link">JUC线程池:Fork/Join框架详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-tool-countdownlatch.html" class="sidebar-link">JUC工具类:CountDownLatch详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-tool-cyclicbarrier.html" class="sidebar-link">JUC工具类:CyclicBarrier详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-tool-semaphore.html" class="sidebar-link">JUC工具类:Semaphore详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-tool-phaser.html" class="sidebar-link">JUC工具类:Phaser详解</a></li><li><a href="/md/java/thread/java-thread-x-juc-tool-exchanger.html" class="sidebar-link">JUC工具类:Exchanger详解</a></li><li><a href="/md/java/thread/java-thread-x-threadlocal.html" class="sidebar-link">Java 并发 - ThreadLocal详解</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java IO/NIO/AIO</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/java/io/java-io-overview.html" class="sidebar-link">♥Java IO知识体系详解♥</a></li><li><a href="/md/java/io/java-io-basic-category.html" class="sidebar-link">Java IO - 分类(传输，操作)</a></li><li><a href="/md/java/io/java-io-basic-design-pattern.html" class="sidebar-link">Java IO - 设计模式(装饰者模式)</a></li><li><a href="/md/java/io/java-io-basic-code-inputstream.html" class="sidebar-link">Java IO - 源码:InputStream</a></li><li><a href="/md/java/io/java-io-basic-code-outputstream.html" class="sidebar-link">Java IO - 源码:OutputStream</a></li><li><a href="/md/java/io/java-io-basic-usage.html" class="sidebar-link">Java IO - 常见类使用</a></li><li><a href="/md/java/io/java-io-model.html" class="sidebar-link">IO 模型 - Unix IO 模型</a></li><li><a href="/md/java/io/java-io-bio.html" class="sidebar-link">Java IO - BIO 详解</a></li><li><a href="/md/java/io/java-io-nio.html" class="sidebar-link">Java NIO - 基础详解</a></li><li><a href="/md/java/io/java-io-nio-select-epoll.html" class="sidebar-link">Java NIO - IO多路复用详解</a></li><li><a href="/md/java/io/java-io-aio.html" class="sidebar-link">Java AIO - 异步IO详解</a></li><li><a href="/md/java/io/java-io-nio-netty.html" class="sidebar-link">Java N(A)IO - 框架:Netty</a></li><li><a href="/md/java/io/java-io-nio-zerocopy.html" class="sidebar-link">Java NIO - 零拷贝实现</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java8 特性详解</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/java/java8/java8.html" class="sidebar-link">♥Java8特性知识体系详解♥</a></li><li><a href="/md/java/java8/java8-stream.html" class="sidebar-link">Java 8 - 函数编程(lambda表达式)</a></li><li><a href="/md/java/java8/java8-optional.html" class="sidebar-link">Java 8 - Optional类深度解析</a></li><li><a href="/md/java/java8/java8-default.html" class="sidebar-link">Java 8 - 默认方法</a></li><li><a href="/md/java/java8/java8-type-anno.html" class="sidebar-link">Java 8 - 类型注解</a></li><li><a href="/md/java/java8/java8-anno-repeat.html" class="sidebar-link">Java 8 - 重复注解</a></li><li><a href="/md/java/java8/java8-type.html" class="sidebar-link">Java 8 - 类型推断优化</a></li><li><a href="/md/java/java8/java8-jre.html" class="sidebar-link">Java 8 - JRE精简</a></li><li><a href="/md/java/java8/java8-permgen.html" class="sidebar-link">Java 8 - 移除Permgen</a></li><li><a href="/md/java/java8/java8-stampedlock.html" class="sidebar-link">Java 8 - StampedLock</a></li><li><a href="/md/java/java8/java8-localdatetime.html" class="sidebar-link">Java 8 - LocalDate/LocalDateTime</a></li><li><a href="/md/java/java8/java8-javafx.html" class="sidebar-link">Java 8 - JavaFx 2.0</a></li><li><a href="/md/java/java8/java8-others.html" class="sidebar-link">Java 8 - 其它更新:字符串base64,...</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Java8 以上特性概述</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/java/java8up/java-8-up-overview.html" class="sidebar-link">♥Java8+特性知识体系详解♥</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>JVM相关</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/md/java/jvm/java-jvm-x-overview.html" class="sidebar-link">♥JVM相关知识体系详解♥</a></li><li><a href="/md/java/jvm/java-jvm-class.html" class="sidebar-link">JVM 基础 - 类字节码详解</a></li><li><a href="/md/java/jvm/java-jvm-class-enhancer.html" class="sidebar-link">JVM 基础 - 字节码的增强技术</a></li><li><a href="/md/java/jvm/java-jvm-classload.html" class="sidebar-link">JVM 基础 - Java 类加载机制</a></li><li><a href="/md/java/jvm/java-jvm-struct.html" class="sidebar-link">JVM 基础 - JVM 内存结构</a></li><li><a href="/md/java/jvm/java-jvm-x-introduce.html" class="sidebar-link">JVM 基础 - Java 内存模型引入</a></li><li><a href="/md/java/jvm/java-jvm-jmm.html" class="sidebar-link">JVM 基础 - Java 内存模型详解</a></li><li><a href="/md/java/jvm/java-jvm-gc.html" class="sidebar-link">GC - Java 垃圾回收基础知识</a></li><li><a href="/md/java/jvm/java-jvm-gc-g1.html" class="sidebar-link">GC - Java 垃圾回收器之G1详解</a></li><li><a href="/md/java/jvm/java-jvm-gc-zgc.html" class="sidebar-link">GC - Java 垃圾回收器之ZGC详解</a></li><li><a href="/md/java/jvm/java-jvm-cms-gc.html" class="sidebar-link">GC - Java 垃圾回收器之CMS GC问题分析与解决</a></li><li><a href="/md/java/jvm/java-jvm-param.html" class="sidebar-link">调试排错 - JVM 调优参数</a></li><li><a href="/md/java/jvm/java-jvm-oom.html" class="sidebar-link">调试排错 - Java 内存分析之堆内存和MetaSpace内存</a></li><li><a href="/md/java/jvm/java-jvm-oom-offheap.html" class="sidebar-link">调试排错 - Java 内存分析之堆外内存</a></li><li><a href="/md/java/jvm/java-jvm-thread-dump.html" class="sidebar-link">调试排错 - Java 线程分析之线程Dump分析</a></li><li><a href="/md/java/jvm/java-jvm-debug-tools-linux.html" class="sidebar-link">调试排错 - Java 问题排查之Linux命令</a></li><li><a href="/md/java/jvm/java-jvm-debug-tools-list.html" class="sidebar-link">调试排错 - Java 问题排查之工具单</a></li><li><a href="/md/java/jvm/java-jvm-oom-tool.html" class="sidebar-link">调试排错 - Java 问题排查之JVM可视化工具</a></li><li><a href="/md/java/jvm/java-jvm-agent-arthas.html" class="sidebar-link">调试排错 - Java 问题排查之应用在线调试Arthas</a></li><li><a href="/md/java/jvm/java-jvm-debug-idea.html" class="sidebar-link">调试排错 - Java 问题排查之使用IDEA本地调试和远程调试</a></li><li><a href="/md/java/jvm/java-jvm-agent-usage.html" class="sidebar-link">调试排错 - Java动态调试技术原理</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="collection-stack-queue-源码解析"><a href="#collection-stack-queue-源码解析" class="header-anchor">#</a> Collection - Stack &amp; Queue 源码解析</h1> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>本文主要对Collection - Stack &amp; Queue进行源码解析。 @123</p></div> <ul><li>Collection - Stack &amp; Queue 源码解析
<ul><li>Stack &amp; Queue概述</li> <li>Queue</li> <li>Deque</li> <li>方法剖析
<ul><li>addFirst()</li> <li>addLast()</li> <li>pollFirst()</li> <li>pollLast()</li> <li>peekFirst()</li> <li>peekLast()</li></ul></li></ul></li></ul> <h3 id="stack-queue概述"><a href="#stack-queue概述" class="header-anchor">#</a> # Stack &amp; Queue概述</h3> <blockquote><p>Java里有一个叫做_Stack_的类，却没有叫做_Queue_的类(它是个接口名字)。当需要使用栈时，Java已不推荐使用_Stack_，而是推荐使用更高效的_ArrayDeque_；既然_Queue_只是一个接口，当需要使用队列时也就首选_ArrayDeque_了(次选是_LinkedList_)。</p></blockquote> <h3 id="queue"><a href="#queue" class="header-anchor">#</a> # Queue</h3> <blockquote><p><em>Queue_接口继承自Collection接口，除了最基本的Collection的方法之外，它还支持额外的_insertion</em>, _extraction_和_inspection_操作。这里有两组格式，共6个方法，一组是抛出异常的实现；另外一组是返回值的实现(没有则返回null)。</p></blockquote> <table><thead><tr><th></th> <th>Throws exception</th> <th>Returns special value</th></tr></thead> <tbody><tr><td>Insert</td> <td>add(e)</td> <td>offer(e)</td></tr> <tr><td>Remove</td> <td>remove()</td> <td>poll()</td></tr> <tr><td>Examine</td> <td>element()</td> <td>peek()</td></tr></tbody></table> <h3 id="deque"><a href="#deque" class="header-anchor">#</a> # Deque</h3> <blockquote><p><code>Deque</code>是&quot;double ended queue&quot;, 表示双向的队列，英文读作&quot;deck&quot;. Deque 继承自 Queue接口，除了支持Queue的方法之外，还支持<code>insert</code>, <code>remove</code>和<code>examine</code>操作，由于Deque是双向的，所以可以对队列的头和尾都进行操作，它同时也支持两组格式，一组是抛出异常的实现；另外一组是返回值的实现(没有则返回null)。共12个方法如下:</p></blockquote> <table><thead><tr><th></th> <th>First Element - Head</th> <th></th> <th>Last Element - Tail</th> <th></th></tr></thead> <tbody><tr><td></td> <td>Throws exception</td> <td>Special value</td> <td>Throws exception</td> <td>Special value</td></tr> <tr><td>Insert</td> <td>addFirst(e)</td> <td>offerFirst(e)</td> <td>addLast(e)</td> <td>offerLast(e)</td></tr> <tr><td>Remove</td> <td>removeFirst()</td> <td>pollFirst()</td> <td>removeLast()</td> <td>pollLast()</td></tr> <tr><td>Examine</td> <td>getFirst()</td> <td>peekFirst()</td> <td>getLast()</td> <td>peekLast()</td></tr></tbody></table> <blockquote><p>当把<code>Deque</code>当做FIFO的<code>queue</code>来使用时，元素是从<code>deque</code>的尾部添加，从头部进行删除的； 所以<code>deque</code>的部分方法是和<code>queue</code>是等同的。具体如下:</p></blockquote> <table><thead><tr><th>Queue Method</th> <th>Equivalent Deque Method</th></tr></thead> <tbody><tr><td>add(e)</td> <td>addLast(e)</td></tr> <tr><td>offer(e)</td> <td>offerLast(e)</td></tr> <tr><td>remove()</td> <td>removeFirst()</td></tr> <tr><td>poll()</td> <td>pollFirst()</td></tr> <tr><td>element()</td> <td>getFirst()</td></tr> <tr><td>peek()</td> <td>peekFirst()</td></tr></tbody></table> <blockquote><p>_Deque_的含义是double ended queue，即双端队列，它既可以当作栈使用，也可以当作队列使用。下表列出了_Deque_与_Queue_相对应的接口:</p></blockquote> <table><thead><tr><th>Queue Method</th> <th>Equivalent Deque Method</th> <th>说明</th></tr></thead> <tbody><tr><td><code>add(e)</code></td> <td><code>addLast(e)</code></td> <td>向队尾插入元素，失败则抛出异常</td></tr> <tr><td><code>offer(e)</code></td> <td><code>offerLast(e)</code></td> <td>向队尾插入元素，失败则返回<code>false</code></td></tr> <tr><td><code>remove()</code></td> <td><code>removeFirst()</code></td> <td>获取并删除队首元素，失败则抛出异常</td></tr> <tr><td><code>poll()</code></td> <td><code>pollFirst()</code></td> <td>获取并删除队首元素，失败则返回<code>null</code></td></tr> <tr><td><code>element()</code></td> <td><code>getFirst()</code></td> <td>获取但不删除队首元素，失败则抛出异常</td></tr> <tr><td><code>peek()</code></td> <td><code>peekFirst()</code></td> <td>获取但不删除队首元素，失败则返回<code>null</code></td></tr></tbody></table> <blockquote><p>下表列出了_Deque_与_Stack_对应的接口:</p></blockquote> <table><thead><tr><th>Stack Method</th> <th>Equivalent Deque Method</th> <th>说明</th></tr></thead> <tbody><tr><td><code>push(e)</code></td> <td><code>addFirst(e)</code></td> <td>向栈顶插入元素，失败则抛出异常</td></tr> <tr><td>无</td> <td><code>offerFirst(e)</code></td> <td>向栈顶插入元素，失败则返回<code>false</code></td></tr> <tr><td><code>pop()</code></td> <td><code>removeFirst()</code></td> <td>获取并删除栈顶元素，失败则抛出异常</td></tr> <tr><td>无</td> <td><code>pollFirst()</code></td> <td>获取并删除栈顶元素，失败则返回<code>null</code></td></tr> <tr><td><code>peek()</code></td> <td><code>getFirst()</code></td> <td>获取但不删除栈顶元素，失败则抛出异常</td></tr> <tr><td>无</td> <td><code>peekFirst()</code></td> <td>获取但不删除栈顶元素，失败则返回<code>null</code></td></tr></tbody></table> <blockquote><p>上面两个表共定义了_Deque_的12个接口。添加，删除，取值都有两套接口，它们功能相同，区别是对失败情况的处理不同。<code>一套接口遇到失败就会抛出异常，另一套遇到失败会返回特殊值(</code>false<code>或</code>null<code>)</code>。除非某种实现对容量有限制，大多数情况下，添加操作是不会失败的。<code>虽然_Deque_的接口有12个之多，但无非就是对容器的两端进行操作，或添加，或删除，或查看</code>。明白了这一点讲解起来就会非常简单。</p></blockquote> <blockquote><p><em>ArrayDeque_和_LinkedList_是_Deque_的两个通用实现，由于官方更推荐使用_AarryDeque_用作栈和队列，加之上一篇已经讲解过_LinkedList</em>，本文将着重讲解_ArrayDeque_的具体实现。</p></blockquote> <blockquote><p>从名字可以看出_ArrayDeque_底层通过数组实现，为了满足可以同时在数组两端插入或删除元素的需求，该数组还必须是循环的，即<code>循环数组(circular array)</code>，也就是说数组的任何一点都可能被看作起点或者终点。_ArrayDeque_是非线程安全的(not thread-safe)，当多个线程同时使用的时候，需要程序员手动同步；另外，该容器不允许放入<code>null</code>元素。</p></blockquote> <blockquote><p><img src="/assets/img/ArrayDeque_base.a1b4b080.png" alt="ArrayDeque_base.png"></p></blockquote> <blockquote><p>上图中我们看到，``head<code>指向首端第一个有效元素，</code>tail<code>指向尾端第一个可以插入元素的空位</code>。因为是循环数组，所以<code>head</code>不一定总等于0，<code>tail</code>也不一定总是比<code>head</code>大。</p></blockquote> <h3 id="方法剖析"><a href="#方法剖析" class="header-anchor">#</a> # 方法剖析</h3> <h3 id="addfirst"><a href="#addfirst" class="header-anchor">#</a> # addFirst()</h3> <blockquote><p><code>addFirst(E e)</code>的作用是在_Deque_的首端插入元素，也就是在<code>head</code>的前面插入元素，在空间足够且下标没有越界的情况下，只需要将<code>elements[--head] = e</code>即可。</p></blockquote> <blockquote><p><img src="data:image/png;base64,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" alt="ArrayDeque_addFirst.png"></p></blockquote> <blockquote><p>实际需要考虑: 1.空间是否够用，以及2.下标是否越界的问题。上图中，如果<code>head</code>为<code>0</code>之后接着调用<code>addFirst()</code>，虽然空余空间还够用，但<code>head</code>为<code>-1</code>，下标越界了。下列代码很好的解决了这两个问题。</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//addFirst(E e)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token comment">//不允许放入null</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    elements<span class="token punctuation">[</span>head <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span><span class="token comment">//下标是否越界</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>head <span class="token operator">==</span> tail<span class="token punctuation">)</span><span class="token comment">//空间是否够用</span>
        <span class="token function">doubleCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//扩容</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><blockquote><p>上述代码我们看到，<code>空间问题是在插入之后解决的</code>，因为<code>tail</code>总是指向下一个可插入的空位，也就意味着<code>elements</code>数组至少有一个空位，所以插入元素的时候不用考虑空间问题。</p></blockquote> <blockquote><p>下标越界的处理解决起来非常简单，</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code>head <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>就可以了，<code>这段代码相当于取余，同时解决了</code>head<code>为负值的情况</code>。因为<code>elements.length</code>必需是<code>2</code>的指数倍，<code>elements - 1</code>就是二进制低位全<code>1</code>，跟<code>head - 1</code>相与之后就起到了取模的作用，如果<code>head - 1</code>为负数(其实只可能是-1)，则相当于对其取相对于<code>elements.length</code>的补码。</p> <blockquote><p>下面再说说扩容函数<code>doubleCapacity()</code>，其逻辑是申请一个更大的数组(原数组的两倍)，然后将原数组复制过去。过程如下图所示:</p></blockquote> <blockquote><p><img src="/assets/img/ArrayDeque_doubleCapacity.c3775715.png" alt="ArrayDeque_doubleCapacity.png"></p></blockquote> <blockquote><p>图中我们看到，复制分两次进行，第一次复制<code>head</code>右边的元素，第二次复制<code>head</code>左边的元素。</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token comment">//doubleCapacity()</span>
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">doubleCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">assert</span> head <span class="token operator">==</span> tail<span class="token punctuation">;</span>
    <span class="token keyword">int</span> p <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">int</span> r <span class="token operator">=</span> n <span class="token operator">-</span> p<span class="token punctuation">;</span> <span class="token comment">// head右边元素的个数</span>
    <span class="token keyword">int</span> newCapacity <span class="token operator">=</span> n <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//原空间的2倍</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token string">&quot;Sorry, deque too big&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>newCapacity<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> p<span class="token punctuation">,</span> a<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复制右半部分，对应上图中绿色部分</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>elements<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> r<span class="token punctuation">,</span> p<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//复制左半部分，对应上图中灰色部分</span>
    elements <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">E</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>a<span class="token punctuation">;</span>
    head <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    tail <span class="token operator">=</span> n<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="addlast"><a href="#addlast" class="header-anchor">#</a> # addLast()</h3> <blockquote><p><code>addLast(E e)</code>的作用是在_Deque_的尾端插入元素，也就是在<code>tail</code>的位置插入元素，由于<code>tail</code>总是指向下一个可以插入的空位，因此只需要<code>elements[tail] = e;</code>即可。插入完成后再检查空间，如果空间已经用光，则调用<code>doubleCapacity()</code>进行扩容。</p></blockquote> <blockquote><p><img src="data:image/png;base64,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" alt="ArrayDeque_addLast.png"></p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addLast</span><span class="token punctuation">(</span><span class="token class-name">E</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token comment">//不允许放入null</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    elements<span class="token punctuation">[</span>tail<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span><span class="token comment">//赋值</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>tail <span class="token operator">=</span> <span class="token punctuation">(</span>tail <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> head<span class="token punctuation">)</span><span class="token comment">//下标越界处理</span>
        <span class="token function">doubleCapacity</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//扩容</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>下标越界处理方式<code>addFirt()</code>中已经讲过，不再赘述。</p></blockquote> <h3 id="pollfirst"><a href="#pollfirst" class="header-anchor">#</a> # pollFirst()</h3> <blockquote><p><code>pollFirst()</code>的作用是删除并返回_Deque_首端元素，也即是<code>head</code>位置处的元素。如果容器不空，只需要直接返回<code>elements[head]</code>即可，当然还需要处理下标的问题。由于<code>ArrayDeque</code>中不允许放入<code>null</code>，当</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code>elements<span class="token punctuation">[</span>head<span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>时，意味着容器为空。</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> h <span class="token operator">=</span> head<span class="token punctuation">;</span>
    <span class="token class-name">E</span> result <span class="token operator">=</span> elements<span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token comment">//null值意味着deque为空</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    elements<span class="token punctuation">[</span>h<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//let GC work</span>
    head <span class="token operator">=</span> <span class="token punctuation">(</span>head <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//下标越界处理</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="polllast"><a href="#polllast" class="header-anchor">#</a> # pollLast()</h3> <blockquote><p><code>pollLast()</code>的作用是删除并返回_Deque_尾端元素，也即是<code>tail</code>位置前面的那个元素。</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> t <span class="token operator">=</span> <span class="token punctuation">(</span>tail <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//tail的上一个位置是最后一个元素</span>
    <span class="token class-name">E</span> result <span class="token operator">=</span> elements<span class="token punctuation">[</span>t<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token comment">//null值意味着deque为空</span>
        <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    elements<span class="token punctuation">[</span>t<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span><span class="token comment">//let GC work</span>
    tail <span class="token operator">=</span> t<span class="token punctuation">;</span>
    <span class="token keyword">return</span> result<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h3 id="peekfirst"><a href="#peekfirst" class="header-anchor">#</a> # peekFirst()</h3> <blockquote><p><code>peekFirst()</code>的作用是返回但不删除_Deque_首端元素，也即是<code>head</code>位置处的元素，直接返回<code>elements[head]</code>即可。</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> elements<span class="token punctuation">[</span>head<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// elements[head] is null if deque empty</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="peeklast"><a href="#peeklast" class="header-anchor">#</a> # peekLast()</h3> <blockquote><p><code>peekLast()</code>的作用是返回但不删除_Deque_尾端元素，也即是<code>tail</code>位置前面的那个元素。</p></blockquote> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">E</span> <span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> elements<span class="token punctuation">[</span><span class="token punctuation">(</span>tail <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token punctuation">(</span>elements<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/12/2023, 11:33:13 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/md/java/collection/java-collection-LinkedList.html" class="prev">
        Collection - LinkedList源码解析
      </a></span> <span class="next"><a href="/md/java/collection/java-collection-PriorityQueue.html">
        Collection - PriorityQueue源码解析
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:290px;display:none;" data-v-5775ee02>
      欢迎来到我的博客
    </div> <div class="operation" style="right:90px;bottom:40px;display:;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:;" data-v-5775ee02></i></div> <canvas id="banniang" width="260px" height="320" class="live2d" style="right:90px;bottom:-20px;opacity:0.9;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    看板娘
  </div></div><canvas id="vuepress-canvas-cursor"></canvas><!----><div class="RibbonAnimation"></div><!----><div class="Sakura" data-v-248d85d6><canvas id="canvas_sakura" style="z-index:2;" data-v-248d85d6></canvas></div></div></div>
    <script src="/assets/js/app.0d6df2e4.js" defer></script><script src="/assets/js/3.2c60df78.js" defer></script><script src="/assets/js/32.bfcba426.js" defer></script>
  </body>
</html>
