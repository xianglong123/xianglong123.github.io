(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{316:function(s,t,n){s.exports=n.p+"assets/img/java-io-aio-1.354c549e.png"},317:function(s,t,n){s.exports=n.p+"assets/img/java-io-aio-2.f4e634de.png"},318:function(s,t,n){s.exports=n.p+"assets/img/java-io-aio-3.d9dc4a3e.png"},319:function(s,t){s.exports="data:image/png;base64,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"},320:function(s,t){s.exports="data:image/png;base64,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"},321:function(s,t,n){s.exports=n.p+"assets/img/java-io-aio-5.e3ba87d6.png"},725:function(s,t,n){"use strict";n.r(t);var a=n(0),e=Object(a.a)({},(function(){var s=this,t=s._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"java-aio-异步io详解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-aio-异步io详解"}},[s._v("#")]),s._v(" Java AIO - 异步IO详解")]),s._v(" "),t("div",{staticClass:"custom-block tip"},[t("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),t("p",[s._v("本文主要对异步IO和Java中对AIO的支持详解。 @123")])]),s._v(" "),t("ul",[t("li",[s._v("Java AIO - 异步IO详解\n"),t("ul",[t("li",[s._v("异步IO")]),s._v(" "),t("li",[s._v("JAVA对AIO的支持\n"),t("ul",[t("li",[s._v("JAVA AIO框架简析")]),s._v(" "),t("li",[s._v("代码实例")]),s._v(" "),t("li",[s._v("要点讲解")]),s._v(" "),t("li",[s._v("还有改进可能")])])]),s._v(" "),t("li",[s._v("为什么还有Netty")]),s._v(" "),t("li",[s._v("参考文章")])])])]),s._v(" "),t("h3",{attrs:{id:"异步io"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#异步io"}},[s._v("#")]),s._v(" # 异步IO")]),s._v(" "),t("blockquote",[t("p",[s._v("上面两篇文章中，我们分别讲解了阻塞式同步IO、非阻塞式同步IO、多路复用IO 这三种IO模型，以及JAVA对于这三种IO模型的支持。重点说明了IO模型是由操作系统提供支持，且这三种IO模型都是同步IO，都是采用的应用程序不询问我，我绝不会主动通知的方式。")])]),s._v(" "),t("blockquote",[t("p",[s._v("异步IO则是采用订阅-通知模式: 即应用程序向操作系统注册IO监听，然后继续做自己的事情。当操作系统发生IO事件，并且准备好数据后，在主动通知应用程序，触发相应的函数:")])]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:n(316),alt:""}})])]),s._v(" "),t("blockquote",[t("p",[s._v("和同步IO一样，异步IO也是由操作系统进行支持的。微软的windows系统提供了一种异步IO技术: IOCP(I/O Completion Port，I/O完成端口)；")])]),s._v(" "),t("blockquote",[t("p",[s._v("Linux下由于没有这种异步IO技术，所以使用的是epoll(上文介绍过的一种多路复用IO技术的实现)对异步IO进行模拟。")])]),s._v(" "),t("h3",{attrs:{id:"java对aio的支持"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java对aio的支持"}},[s._v("#")]),s._v(" # JAVA对AIO的支持")]),s._v(" "),t("h3",{attrs:{id:"java-aio框架简析"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#java-aio框架简析"}},[s._v("#")]),s._v(" # JAVA AIO框架简析")]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:n(317),alt:""}})])]),s._v(" "),t("blockquote",[t("p",[s._v("这里通过这个结构分析要告诉各位读者JAVA AIO中类设计和操作系统的相关性")])]),s._v(" "),t("blockquote",[t("p",[s._v("在文中我们一再说明JAVA AIO框架在windows下使用windows IOCP技术，在Linux下使用epoll多路复用IO技术模拟异步IO，这个从JAVA AIO框架的部分类设计上就可以看出来。例如框架中，在Windows下负责实现套接字通道的具体类是sun.nio.ch.WindowsAsynchronousSocketChannelImpl，其引用的IOCP类型文档注释如是:")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/** \n* Windows implementation of AsynchronousChannelGroup encapsulating an I/O \n* completion port. \n*/")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("blockquote",[t("p",[s._v("如果您感兴趣，当然可以去看看全部完整代码(建议从java.nio.channels.spi.AsynchronousChannelProvider这个类看起)。")])]),s._v(" "),t("blockquote",[t("p",[s._v("特别说明一下，请注意图中的java.nio.channels.NetworkChannel接口，这个接口同样被JAVA NIO框架实现了，如下图所示:")])]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:n(318),alt:""}})])]),s._v(" "),t("h3",{attrs:{id:"代码实例"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#代码实例"}},[s._v("#")]),s._v(" # 代码实例")]),s._v(" "),t("blockquote",[t("p",[s._v("下面，我们通过一个代码示例，来讲解JAVA AIO框架的具体使用，先上代码，在针对代码编写和运行中的要点进行讲解:")])]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("package")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("testASocket")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UnsupportedEncodingException")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("net"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InetSocketAddress")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteBuffer")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("channels"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousChannelGroup")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("channels"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousServerSocketChannel")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("channels"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousSocketChannel")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("nio"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("channels"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompletionHandler")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ExecutorService")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("java"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("util"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("concurrent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Executors")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("logging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Log")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("commons"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("logging"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LogFactory")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token import"}},[t("span",{pre:!0,attrs:{class:"token namespace"}},[s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("apache"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("log4j"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")])]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BasicConfigurator")])]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * @author yinwenjie\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketServer")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("BasicConfigurator")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("configure")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),s._v(" waitObject "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * @param args\n     * @throws Exception\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("main")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" args"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("throws")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Exception")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n         * 对于使用的线程池技术，我一定要多说几句\n         * 1、Executors是线程池生成工具，通过这个工具我们可以很轻松的生成“固定大小的线程池”、“调度池”、“可伸缩线程数量的池”。具体请看API Doc\n         * 2、当然您也可以通过ThreadPoolExecutor直接生成池。\n         * 3、这个线程池是用来得到操作系统的“IO事件通知”的，不是用来进行“得到IO数据后的业务处理的”。要进行后者的操作，您可以再使用一个池(最好不要混用)\n         * 4、您也可以不使用线程池(不推荐)，如果决定不使用线程池，直接AsynchronousServerSocketChannel.open()就行了。\n         * */")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ExecutorService")]),s._v(" threadPool "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Executors")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("newFixedThreadPool")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousChannelGroup")]),s._v(" group "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousChannelGroup")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("withThreadPool")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("threadPool"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousServerSocketChannel")]),s._v(" serverSocket "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousServerSocketChannel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("open")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//设置要监听的端口“0”代表本机所有IP设备")]),s._v("\n        serverSocket"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("InetSocketAddress")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("83")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//为AsynchronousServerSocketChannel注册监听，注意只是为AsynchronousServerSocketChannel通道注册监听")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//并不包括为 随后客户端和服务器 socketchannel通道注册的监听")]),s._v("\n        serverSocket"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("serverSocket"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//等待，以便观察现象(这个和要讲解的原理本身没有任何关系，只是为了保证守护线程不会退出)")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("synchronized")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("waitObject"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            waitObject"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wait")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * 这个处理器类，专门用来响应 ServerSocketChannel 的事件。\n * @author yinwenjie\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelHandle")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompletionHandler")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousSocketChannel")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Void")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * 日志\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Log")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LogFactory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousServerSocketChannel")]),s._v(" serverSocketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * @param serverSocketChannel\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousServerSocketChannel")]),s._v(" serverSocketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serverSocketChannel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" serverSocketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * 注意，我们分别观察 this、socketChannel、attachment三个对象的id。\n     * 来观察不同客户端连接到达时，这三个对象的变化，以说明ServerSocketChannelHandle的监听模式\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("completed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousSocketChannel")]),s._v(" socketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Void")]),s._v(" attachment"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"completed(AsynchronousSocketChannel result, ByteBuffer attachment)"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//每次都要重新注册监听(一次注册，一次响应)，但是由于“文件状态标示符”是独享的，所以不需要担心有“漏掉的”事件")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("serverSocketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("accept")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("attachment"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//为这个新的socketChannel注册“read”事件，以便操作系统在收到数据并准备好后，主动通知应用程序")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//在这里，由于我们要将这个客户端多次传输的数据累加起来一起处理，所以我们将一个stringbuffer对象作为一个“附件”依附在这个channel上")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteBuffer")]),s._v(" readBuffer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteBuffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("allocate")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("50")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        socketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("readBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringBuffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("socketChannel "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" readBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* (non-Javadoc)\n     * @see java.nio.channels.CompletionHandler#failed(java.lang.Throwable, java.lang.Object)\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("failed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" exc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Void")]),s._v(" attachment"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ServerSocketChannelHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"failed(Throwable exc, ByteBuffer attachment)"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n * 负责对每一个socketChannel的数据获取事件进行监听。<p>\n * \n * 重要的说明: 一个socketchannel都会有一个独立工作的SocketChannelReadHandle对象(CompletionHandler接口的实现)，\n * 其中又都将独享一个“文件状态标示”对象FileDescriptor、\n * 一个独立的由程序员定义的Buffer缓存(这里我们使用的是ByteBuffer)、\n * 所以不用担心在服务器端会出现“窜对象”这种情况，因为JAVA AIO框架已经帮您组织好了。<p>\n * \n * 但是最重要的，用于生成channel的对象: AsynchronousChannelProvider是单例模式，无论在哪组socketchannel，\n * 对是一个对象引用(但这没关系，因为您不会直接操作这个AsynchronousChannelProvider对象)。\n * @author yinwenjie\n */")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("implements")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CompletionHandler")]),t("span",{pre:!0,attrs:{class:"token generics"}},[t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("<")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringBuffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(">")])]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * 日志\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Log")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LogFactory")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("getLog")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousSocketChannel")]),s._v(" socketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/**\n     * 专门用于进行这个通道数据缓存操作的ByteBuffer<br>\n     * 当然，您也可以作为CompletionHandler的attachment形式传入。<br>\n     * 这是，在这段示例代码中，attachment被我们用来记录所有传送过来的Stringbuffer了。\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("private")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteBuffer")]),s._v(" byteBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("AsynchronousSocketChannel")]),s._v(" socketChannel "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ByteBuffer")]),s._v(" byteBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socketChannel "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" socketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("byteBuffer "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" byteBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* (non-Javadoc)\n     * @see java.nio.channels.CompletionHandler#completed(java.lang.Object, java.lang.Object)\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("completed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Integer")]),s._v(" result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringBuffer")]),s._v(" historyContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果条件成立，说明客户端主动终止了TCP套接字，这时服务端终止就可以了")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("result "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n                "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"completed(Integer result, Void attachment) : 然后我们来取出通道中准备好的值"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/*\n         * 实际上，由于我们从Integer result知道了本次channel从操作系统获取数据总长度\n         * 所以实际上，我们不需要切换成“读模式”的，但是为了保证编码的规范性，还是建议进行切换。\n         * \n         * 另外，无论是JAVA AIO框架还是JAVA NIO框架，都会出现“buffer的总容量”小于“当前从操作系统获取到的总数据量”，\n         * 但区别是，JAVA AIO框架中，我们不需要专门考虑处理这样的情况，因为JAVA AIO框架已经帮我们做了处理(做成了多次通知)\n         * */")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("byteBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("flip")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" contexts "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("byte")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1024")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("byteBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("contexts"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("byteBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("clear")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" nowContent "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("contexts "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" result "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UTF-8"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            historyContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("append")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("nowContent"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"目前的传输结果: "')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v(" historyContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("UnsupportedEncodingException")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//如果条件成立，说明还没有接收到“结束标记”")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("historyContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("indexOf")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"over"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//          和上篇文章的代码相同，我们以“over”符号作为客户端完整信息的标记")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"=======收到完整信息，开始处理业务========="')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        historyContext "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringBuffer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//还要继续监听(一次监听一次通知)")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("read")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("byteBuffer"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" historyContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* (non-Javadoc)\n     * @see java.nio.channels.CompletionHandler#failed(java.lang.Throwable, java.lang.Object)\n     */")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("void")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("failed")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Throwable")]),s._v(" exc"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("StringBuffer")]),s._v(" historyContext"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("info")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"=====发现客户端异常关闭，服务器将关闭TCP通道"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("socketChannel"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("close")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("catch")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("IOException")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n            "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("SocketChannelReadHandle")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LOGGER")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("error")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n        "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br"),t("span",{staticClass:"line-number"},[s._v("105")]),t("br"),t("span",{staticClass:"line-number"},[s._v("106")]),t("br"),t("span",{staticClass:"line-number"},[s._v("107")]),t("br"),t("span",{staticClass:"line-number"},[s._v("108")]),t("br"),t("span",{staticClass:"line-number"},[s._v("109")]),t("br"),t("span",{staticClass:"line-number"},[s._v("110")]),t("br"),t("span",{staticClass:"line-number"},[s._v("111")]),t("br"),t("span",{staticClass:"line-number"},[s._v("112")]),t("br"),t("span",{staticClass:"line-number"},[s._v("113")]),t("br"),t("span",{staticClass:"line-number"},[s._v("114")]),t("br"),t("span",{staticClass:"line-number"},[s._v("115")]),t("br"),t("span",{staticClass:"line-number"},[s._v("116")]),t("br"),t("span",{staticClass:"line-number"},[s._v("117")]),t("br"),t("span",{staticClass:"line-number"},[s._v("118")]),t("br"),t("span",{staticClass:"line-number"},[s._v("119")]),t("br"),t("span",{staticClass:"line-number"},[s._v("120")]),t("br"),t("span",{staticClass:"line-number"},[s._v("121")]),t("br"),t("span",{staticClass:"line-number"},[s._v("122")]),t("br"),t("span",{staticClass:"line-number"},[s._v("123")]),t("br"),t("span",{staticClass:"line-number"},[s._v("124")]),t("br"),t("span",{staticClass:"line-number"},[s._v("125")]),t("br"),t("span",{staticClass:"line-number"},[s._v("126")]),t("br"),t("span",{staticClass:"line-number"},[s._v("127")]),t("br"),t("span",{staticClass:"line-number"},[s._v("128")]),t("br"),t("span",{staticClass:"line-number"},[s._v("129")]),t("br"),t("span",{staticClass:"line-number"},[s._v("130")]),t("br"),t("span",{staticClass:"line-number"},[s._v("131")]),t("br"),t("span",{staticClass:"line-number"},[s._v("132")]),t("br"),t("span",{staticClass:"line-number"},[s._v("133")]),t("br"),t("span",{staticClass:"line-number"},[s._v("134")]),t("br"),t("span",{staticClass:"line-number"},[s._v("135")]),t("br"),t("span",{staticClass:"line-number"},[s._v("136")]),t("br"),t("span",{staticClass:"line-number"},[s._v("137")]),t("br"),t("span",{staticClass:"line-number"},[s._v("138")]),t("br"),t("span",{staticClass:"line-number"},[s._v("139")]),t("br"),t("span",{staticClass:"line-number"},[s._v("140")]),t("br"),t("span",{staticClass:"line-number"},[s._v("141")]),t("br"),t("span",{staticClass:"line-number"},[s._v("142")]),t("br"),t("span",{staticClass:"line-number"},[s._v("143")]),t("br"),t("span",{staticClass:"line-number"},[s._v("144")]),t("br"),t("span",{staticClass:"line-number"},[s._v("145")]),t("br"),t("span",{staticClass:"line-number"},[s._v("146")]),t("br"),t("span",{staticClass:"line-number"},[s._v("147")]),t("br"),t("span",{staticClass:"line-number"},[s._v("148")]),t("br"),t("span",{staticClass:"line-number"},[s._v("149")]),t("br"),t("span",{staticClass:"line-number"},[s._v("150")]),t("br"),t("span",{staticClass:"line-number"},[s._v("151")]),t("br"),t("span",{staticClass:"line-number"},[s._v("152")]),t("br"),t("span",{staticClass:"line-number"},[s._v("153")]),t("br"),t("span",{staticClass:"line-number"},[s._v("154")]),t("br"),t("span",{staticClass:"line-number"},[s._v("155")]),t("br"),t("span",{staticClass:"line-number"},[s._v("156")]),t("br"),t("span",{staticClass:"line-number"},[s._v("157")]),t("br"),t("span",{staticClass:"line-number"},[s._v("158")]),t("br"),t("span",{staticClass:"line-number"},[s._v("159")]),t("br"),t("span",{staticClass:"line-number"},[s._v("160")]),t("br"),t("span",{staticClass:"line-number"},[s._v("161")]),t("br"),t("span",{staticClass:"line-number"},[s._v("162")]),t("br"),t("span",{staticClass:"line-number"},[s._v("163")]),t("br"),t("span",{staticClass:"line-number"},[s._v("164")]),t("br"),t("span",{staticClass:"line-number"},[s._v("165")]),t("br"),t("span",{staticClass:"line-number"},[s._v("166")]),t("br"),t("span",{staticClass:"line-number"},[s._v("167")]),t("br"),t("span",{staticClass:"line-number"},[s._v("168")]),t("br"),t("span",{staticClass:"line-number"},[s._v("169")]),t("br"),t("span",{staticClass:"line-number"},[s._v("170")]),t("br"),t("span",{staticClass:"line-number"},[s._v("171")]),t("br"),t("span",{staticClass:"line-number"},[s._v("172")]),t("br"),t("span",{staticClass:"line-number"},[s._v("173")]),t("br"),t("span",{staticClass:"line-number"},[s._v("174")]),t("br"),t("span",{staticClass:"line-number"},[s._v("175")]),t("br"),t("span",{staticClass:"line-number"},[s._v("176")]),t("br"),t("span",{staticClass:"line-number"},[s._v("177")]),t("br"),t("span",{staticClass:"line-number"},[s._v("178")]),t("br"),t("span",{staticClass:"line-number"},[s._v("179")]),t("br"),t("span",{staticClass:"line-number"},[s._v("180")]),t("br"),t("span",{staticClass:"line-number"},[s._v("181")]),t("br"),t("span",{staticClass:"line-number"},[s._v("182")]),t("br"),t("span",{staticClass:"line-number"},[s._v("183")]),t("br"),t("span",{staticClass:"line-number"},[s._v("184")]),t("br"),t("span",{staticClass:"line-number"},[s._v("185")]),t("br"),t("span",{staticClass:"line-number"},[s._v("186")]),t("br"),t("span",{staticClass:"line-number"},[s._v("187")]),t("br"),t("span",{staticClass:"line-number"},[s._v("188")]),t("br"),t("span",{staticClass:"line-number"},[s._v("189")]),t("br"),t("span",{staticClass:"line-number"},[s._v("190")]),t("br"),t("span",{staticClass:"line-number"},[s._v("191")]),t("br"),t("span",{staticClass:"line-number"},[s._v("192")]),t("br"),t("span",{staticClass:"line-number"},[s._v("193")]),t("br"),t("span",{staticClass:"line-number"},[s._v("194")]),t("br"),t("span",{staticClass:"line-number"},[s._v("195")]),t("br"),t("span",{staticClass:"line-number"},[s._v("196")]),t("br"),t("span",{staticClass:"line-number"},[s._v("197")]),t("br")])]),t("h3",{attrs:{id:"要点讲解"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#要点讲解"}},[s._v("#")]),s._v(" # 要点讲解")]),s._v(" "),t("blockquote",[t("p",[s._v("注意在JAVA NIO框架中，我们说到了一个重要概念selector(选择器)。它负责代替应用查询中所有已注册的通道到操作系统中进行IO事件轮询、管理当前注册的通道集合，定位发生事件的通道等操操作；但是在JAVA AIO框架中，由于应用程序不是轮询方式，而是订阅-通知方式，所以不再需要selector(选择器)了，改由channel通道直接到操作系统注册监听。")])]),s._v(" "),t("blockquote",[t("p",[s._v("JAVA AIO框架中，只实现了两种网络IO通道AsynchronousServerSocketChannel(服务器监听通道)、AsynchronousSocketChannel(socket套接字通道)。但是无论哪种通道他们都有独立的fileDescriptor(文件标识符)、attachment(附件，附件可以使任意对象，类似通道上下文)，并被独立的SocketChannelReadHandle类实例引用。我们通过debug操作来看看它们的引用结构:")])]),s._v(" "),t("blockquote",[t("p",[s._v("在测试过程中，我们启动了两个客户端(客户端用什么语言来写都行，用阻塞或者非阻塞方式也都行，只要是支持 TCP Socket套接字的就行，然后我们观察服务器端对这两个客户端通道的处理情况:")])]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:n(319),alt:""}})])]),s._v(" "),t("blockquote",[t("p",[s._v("可以看到，在服务器端分别为客户端1和客户端2创建的两个WindowsAsynchronousSocketChannelImpl对象为:")])]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:n(320),alt:""}})])]),s._v(" "),t("blockquote",[t("p",[s._v("客户端1: WindowsAsynchronousSocketChannelImpl: 760 | FileDescriptor: 762")])]),s._v(" "),t("blockquote",[t("p",[s._v("客户端2: WindowsAsynchronousSocketChannelImpl: 792 | FileDescriptor: 797")])]),s._v(" "),t("blockquote",[t("p",[s._v("接下来，我们让两个客户端发送信息到服务器端，并观察服务器端的处理情况。客户端1发来的消息和客户端2发来的消息，在服务器端的处理情况如下图所示:")])]),s._v(" "),t("blockquote",[t("p",[t("img",{attrs:{src:n(321),alt:""}})])]),s._v(" "),t("blockquote",[t("p",[s._v("客户端1: WindowsAsynchronousSocketChannelImpl: 760 | FileDescriptor: 762 | SocketChannelReadHandle: 803 | HeapByteBuffer: 808")])]),s._v(" "),t("blockquote",[t("p",[s._v("客户端2: WindowsAsynchronousSocketChannelImpl: 792 | FileDescriptor: 797 | SocketChannelReadHandle: 828 | HeapByteBuffer: 833")])]),s._v(" "),t("blockquote",[t("p",[s._v("可以明显看到，服务器端处理每一个客户端通道所使用的SocketChannelReadHandle(处理器)对象都是独立的，并且所引用的SocketChannel对象都是独立的。")])]),s._v(" "),t("blockquote",[t("p",[s._v("JAVA NIO和JAVA AIO框架，除了因为操作系统的实现不一样而去掉了Selector外，其他的重要概念都是存在的，例如上文中提到的Channel的概念，还有演示代码中使用的Buffer缓存方式。实际上JAVA NIO和JAVA AIO框架您可以看成是一套完整的高并发IO处理的实现。")])]),s._v(" "),t("h3",{attrs:{id:"还有改进可能"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#还有改进可能"}},[s._v("#")]),s._v(" # 还有改进可能")]),s._v(" "),t("blockquote",[t("p",[s._v("当然，以上代码是示例代码，目标是为了让您了解JAVA AIO框架的基本使用。所以它还有很多改造的空间，例如:")])]),s._v(" "),t("blockquote",[t("p",[s._v("在生产环境下，我们需要记录这个通道上用户的登录信息。那么这个需求可以使用JAVA AIO中的附件功能进行实现。")])]),s._v(" "),t("blockquote",[t("p",[s._v("记住JAVA AIO 和 JAVA NIO 框架都是要使用线程池的(当然您也可以不用)，线程池的使用原则，一定是只有业务处理部分才使用，使用后马上结束线程的执行(还回线程池或者消灭它)。JAVA AIO框架中还有一个线程池，是拿给通知处理器使用的，这是因为JAVA AIO框架是基于订阅-通知模型的，订阅操作可以由主线程完成，但是您总不能要求在应用程序中并发的通知操作也在主线程上完成吧_。")])]),s._v(" "),t("blockquote",[t("p",[s._v("最好的改进方式，当然就是使用Netty或者Mina咯。")])]),s._v(" "),t("h3",{attrs:{id:"为什么还有netty"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为什么还有netty"}},[s._v("#")]),s._v(" # 为什么还有Netty")]),s._v(" "),t("ul",[t("li",[t("blockquote",[t("p",[s._v("那么有的读者可能就会问，既然JAVA NIO / JAVA AIO已经实现了各主流操作系统的底层支持，那么为什么现在主流的JAVA NIO技术会是Netty和MINA呢? 答案很简单: 因为更好用，这里举几个方面的例子:")])])]),s._v(" "),t("li",[t("blockquote",[t("p",[s._v("虽然JAVA NIO 和 JAVA AIO框架提供了 多路复用IO/异步IO的支持，但是并没有提供上层信息格式的良好封装。例如前两者并没有提供针对 Protocol Buffer、JSON这些信息格式的封装，但是Netty框架提供了这些数据格式封装(基于责任链模式的编码和解码功能)")])])]),s._v(" "),t("li",[t("blockquote",[t("p",[s._v("要编写一个可靠的、易维护的、高性能的(注意它们的排序)NIO/AIO 服务器应用。除了框架本身要兼容实现各类操作系统的实现外。更重要的是它应该还要处理很多上层特有服务，例如: 客户端的权限、还有上面提到的信息格式封装、简单的数据读取。这些Netty框架都提供了响应的支持。")])])]),s._v(" "),t("li",[t("blockquote",[t("p",[s._v("JAVA NIO框架存在一个poll/epoll bug: Selector doesn’t block on Selector.select(timeout)，不能block意味着CPU的使用率会变成100%(这是底层JNI的问题，上层要处理这个异常实际上也好办)。当然这个bug只有在Linux内核上才能重现。")])])]),s._v(" "),t("li",[t("blockquote",[t("p",[s._v("这个问题在JDK 1.7版本中还没有被完全解决: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=2147719。虽然Netty 4.0中也是基于JAVA NIO框架进行封装的(上文中已经给出了Netty中NioServerSocketChannel类的介绍)，但是Netty已经将这个bug进行了处理。")])])]),s._v(" "),t("li",[t("blockquote",[t("p",[s._v("其他原因，用过Netty后，您就可以自己进行比较了。")])])])]),s._v(" "),t("h3",{attrs:{id:"参考文章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[s._v("#")]),s._v(" # 参考文章")]),s._v(" "),t("ul",[t("li",[s._v("文章主要来源于: 银文杰，笔名“说好不能打脸”，博客地址在新窗口打开。他的书《高性能服务系统构建与实战》。")]),s._v(" "),t("li",[s._v("https://blog.csdn.net/yinwenjie/article/details/48784375")])])])}),[],!1,null,null,null);t.default=e.exports}}]);