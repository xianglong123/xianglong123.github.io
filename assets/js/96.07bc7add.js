(window.webpackJsonp=window.webpackJsonp||[]).push([[96],{735:function(s,a,t){"use strict";t.r(a);var n=t(0),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"java-8-重复注解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#java-8-重复注解"}},[s._v("#")]),s._v(" Java 8 - 重复注解")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[s._v("提示")]),s._v(" "),a("p",[s._v("理解Java 8 重复注解需理解几个问题: @123")]),s._v(" "),a("p",[s._v("Jdk8之前对重复注解是怎么做的?\nJdk8对重复注解添加了什么支持?")])]),s._v(" "),a("ul",[a("li",[s._v("Java 8 - 重复注解\n"),a("ul",[a("li",[s._v("什么是重复注解\n"),a("ul",[a("li",[s._v("JDK8之前")]),s._v(" "),a("li",[s._v("Jdk8重复注解")])])]),s._v(" "),a("li",[s._v("总结")])])])]),s._v(" "),a("h3",{attrs:{id:"什么是重复注解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是重复注解"}},[s._v("#")]),s._v(" # 什么是重复注解")]),s._v(" "),a("blockquote",[a("p",[s._v("允许在同一申明类型(类，属性，或方法)的多次使用同一个注解")])]),s._v(" "),a("h3",{attrs:{id:"jdk8之前"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdk8之前"}},[s._v("#")]),s._v(" # JDK8之前")]),s._v(" "),a("blockquote",[a("p",[s._v("java 8之前也有重复使用注解的解决方案，但可读性不是很好，比如下面的代码:")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('public @interface Authority {\n     String role();\n}\n\npublic @interface Authorities {\n    Authority[] value();\n}\n\npublic class RepeatAnnotationUseOldVersion {\n\n    @Authorities({@Authority(role="Admin"),@Authority(role="Manager")})\n    public void doSomeThing(){\n    }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("blockquote",[a("p",[s._v("由另一个注解来存储重复注解，在使用时候，用存储注解Authorities来扩展重复注解。")])]),s._v(" "),a("h3",{attrs:{id:"jdk8重复注解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#jdk8重复注解"}},[s._v("#")]),s._v(" # Jdk8重复注解")]),s._v(" "),a("blockquote",[a("p",[s._v("我们再来看看java 8里面的做法:")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('@Repeatable(Authorities.class)\npublic @interface Authority {\n     String role();\n}\n\npublic @interface Authorities {\n    Authority[] value();\n}\n\npublic class RepeatAnnotationUseNewVersion {\n    @Authority(role="Admin")\n    @Authority(role="Manager")\n    public void doSomeThing(){ }\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("blockquote",[a("p",[s._v("不同的地方是，创建重复注解Authority时，加上@Repeatable,指向存储注解Authorities，在使用时候，直接可以重复使用Authority注解。从上面例子看出，java 8里面做法更适合常规的思维，可读性强一点")])]),s._v(" "),a("h3",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[s._v("#")]),s._v(" # 总结")]),s._v(" "),a("blockquote",[a("p",[s._v("JEP120没有太多内容，是一个小特性，仅仅是为了提高代码可读性。这次java 8对注解做了2个方面的改进(JEP 104,JEP120)，相信注解会比以前使用得更加频繁了。")])])])}),[],!1,null,null,null);a.default=e.exports}}]);